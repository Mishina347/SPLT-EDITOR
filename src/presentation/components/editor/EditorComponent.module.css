.editorBody {
	position: relative;
	height: 98%;
	display: flex;
	background-color: var(--app-bg-color, #ffffff);
	flex-direction: column;
	user-select: none; /* 長押し時のテキスト選択を防ぐ */
}

/* Monaco Editor内では確実にテキスト選択と入力を有効にする */
.editorBody .monaco-editor-container,
.editorBody .monaco-editor,
.editorBody .monaco-editor .view-line,
.editorBody .monaco-editor .monaco-editor-container,
.editorBody .monaco-editor textarea {
	user-select: text !important;
	-webkit-user-select: text !important;
	-moz-user-select: text !important;
	-ms-user-select: text !important;
	touch-action: auto !important;
	pointer-events: auto !important;
	/* IME入力最適化 */
	-webkit-composition-fill-color: transparent;
	-webkit-composition-frame-color: transparent;
	ime-mode: active;
	will-change: auto; /* GPU加速を避けてIME入力を安定化 */
}

/* IME入力候補ウィンドウの位置調整 */
.editorBody .monaco-editor textarea {
	/* IME入力時のフォントレンダリング最適化 */
	text-rendering: optimizeSpeed;
	font-kerning: none;
	/* レイアウトシフトを防ぐ */
	contain: layout style;
}

/* エディタWrapper - 2段階フォーカス制御 */
.editorWrapper {
	position: relative;
	width: 100%;
	height: 98%;
	outline: none;
	border-radius: 4px;
	transition: all 0.2s ease;
}

/* 外部フォーカス状態 */
.editorWrapper[data-inner-focus='false']:focus {
	outline: 3px solid var(--app-text-color, #005fcc);
	outline-offset: 2px;
	background: var(--app-bg-color, rgba(0, 95, 204, 0.05));
}

/* 内部フォーカス状態 */
.editorWrapper[data-inner-focus='true'] {
	outline: 2px solid var(--app-text-color, #007acc);
	outline-offset: 1px;
}

/* 指示テキスト */
.instructions {
	position: absolute;
	bottom: 4px;
	left: 50%;
	transform: translateX(-50%);
	background: var(--app-bg-color, rgba(0, 0, 0, 0.8));
	color: var(--app-text-color, #ffffff);
	padding: 4px 8px;
	border-radius: 4px;
	font-size: 0.75rem;
	pointer-events: none;
	opacity: 0;
	transition: opacity 0.3s ease;
	z-index: 1000;
}

/* ページ番号バーのスタイル */
.counterInfoBar {
	position: relative;
	width: 100%;
	display: flex;
	justify-content: center;
	align-items: center;
	background: var(--app-bg-color, #f9f9f9);
	margin-top: 1rem; /* コンテンツの下に配置 */
	opacity: 0.3;
}

.counterInfoBar:hover {
	opacity: 1;
}

/* 外部フォーカス時に指示テキストを表示 */
.editorWrapper[data-inner-focus='false']:focus .instructions {
	opacity: 1;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
	.instructions {
		font-size: 0.7rem;
		padding: 3px 6px;
		bottom: 8px;
	}
}

/* タイピング中の再描画抑制最適化 */
.editorBody .monaco-editor .view-lines {
	/* レイヤー合成を最適化 */
	transform: translateZ(0);
	/* 描画範囲の最適化 */
	contain: layout style paint;
	/* アニメーション無効化 */
	animation: none !important;
	transition: none !important;
}

/* スクリーンリーダー専用テキスト */
.srOnly {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

/* スクロール時の描画最適化 */
.editorBody .monaco-editor .monaco-scrollable-element {
	/* スクロール中の再描画を最小化 */
	contain: layout;
	/* GPU合成の最適化 */
	will-change: scroll-position;
}

.maximizeBtnPosition {
	margin: 0;
	position: fixed;
	bottom: 1rem;
	left: 1rem;
}
